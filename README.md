# ACID_engine
A(rbitrarily) C(ompilable) I(mprovement) D(irectory), or ACID for short (thanks Bob), is a structure for creating super metroid hacks which implements many large scale system and subsystem changes/rewrites that I wrote while working on Project Base 0.8.

Things to keep in mind:
1. My formatting, specifically with tabs and spaces, has been messed up by uploading it to github. It doesn't change anything in the code functionality of course, but much of the formatting now looks inconsistent with itself, and with the way I structure whitespace in my code as a general rule.
2. I intend to finish commenting large portions of the codebase, but for the time being I think it's more useful to have it available to view and utilize.
3. I have more plans for this codebase for the future, but it is complete enough as it is that I think it can be of some use to people currently.
4. I have tried to credit everyone whose code has influenced or been used in any part to create this, in the code comments themselves (and the credit sheets for project base), but if you think I forgot to credit you for something in the codebase, please let me know.
5. This codebase is made for use with the compiler Xkas0.6. There may be syntax that would need to be changed for another snes compiler like Asar. I wanted to make the most of xkas and smile2.5, so there was not much done to make it comptabile with tools that automatically find free space or do anything similar. I plan to one day make this compatible with Asar and SMART, but until then people are free to make an asar version themselves

Main features of ACID:
1. main.asm contains a structured ram map with clear and easy to use variable names for most of the important addresses in the game. It also brings all the different parts of the codebase together, so the only thing you have to do is compile main.asm onto the rom. In that respect, it is comparable to a header file. This file also contains a set of bit flag arrays that act as configuration flags for the whole code base. These flags control whether many of the included features are active in the game, not active at all, or able to be activated. Or in item terms, acquired vs equipped vs not acquired.
2. Message Boxes:
  Put simply, the message box system in Super Metroid kinda sucks. It's a little clever in how it renders the text box (the way it uses hdma to move the layer in pieces away from the centre) and how it calculates the size and locations from the header list, but ultimately it was not made in a very modular or expandable way whatsoever. So, I designed an entirely new one, that is still based on the general design of the original game (similar to what I did to the subscreen). Not only does this new message box system make adding new messages in all kinds of different ways much more simple, but it implements a form of String Substitution, which you may be familiar with from higher level languages. Specifically, this substitution system (using the common symbol %+X to denote a substitution within the text) allows for several types of things you can insert in to a message. It does of course support the what the original game did by less dynamic means, those being button icons and simple graphics. However it can also insert functions, which have the ability to show dynamic information.
